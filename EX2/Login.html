<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로그인</title>
    <script src="https://cdn.socket.io/4.8.0/socket.io.min.js" integrity="sha384-OoIbkvzsFFQAG88r+IqMAjyOtYDPGO0cqK5HF5Uosdy/zUEGySeAzytENMDynREd" crossorigin="anonymous"></script>
<script>

    //소켓 생성
    const socket = io()


    //유저 아이디 생성
    function setUserId(){
            const channel = document.getElementById('userid').value
            socket.emit('setUserId', channel)
        }
    

    //수신 이벤트 처리
    socket.on('setUserId', (message) => {
        const newMessage = document.createElement('p')
        newMessage.textContent = message    
    })

    
    
</script>
</head>

<body>
    <h2>로그인</h2>
    <form action="/" method="post">
    <p>아이디: <input type="text" id="userid"> <button type="button" onclick="setUserId()">입장</button>
    </p>
    <p><ul id="channelList"></ul></p>
    </form>
</body>
</html>
